
// 筛选工具栏
.filter-toolbar
  display: flex
  padding: 12px 16px
  border-bottom: 1px solid var(--background-modifier-border)
  background-color: var(--background-primary)
  justify-content: space-between
  align-items: center

  .filter-toolbar-left,
  .filter-toolbar-right
    display: flex
    gap: 12px
    align-items: center
    flex: 1

  .filter-toolbar-left
    .filter-toolbar-buttons
      display: flex
      gap: 10px
      flex-direction: row

  .filter-toolbar-right
    margin-left: 16px

  .card-settings-container
    position: relative

    .card-settings-button
      display: flex
      align-items: center
      gap: 6px
      padding: 6px 12px
      background: transparent
      border: 1px solid var(--background-modifier-border)
      border-radius: 4px
      color: var(--text-muted)
      cursor: pointer
      font-size: 13px
      transition: all 0.2s ease
      
      &:hover
        background: var(--background-modifier-hover)
        color: var(--text-normal)
        border-color: var(--interactive-accent)
      
      svg
        width: 14px
        height: 14px
        opacity: 0.8
      
      span
        font-size: 13px

    .card-settings-panel
      top: calc(100% + 8px)
      right: 0

  .tag-dropdown-container
    position: relative
    min-width: 120px

    .tag-dropdown
      width: 100%
      padding: 6px 18px
      border: 1px solid var(--background-modifier-border)
      border-radius: 4px
      z-index: 1001
      color: var(--text-muted)
      font-size: 13px
      cursor: pointer
      transition: all 0.2s ease
      display: flex
      align-items: center
      gap: 6px

      &::before
        content: ''
        display: inline-block
        width: 16px
        height: 16px
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>')
        background-repeat: no-repeat
        background-position: center
        opacity: 0.5

    &:hover
      .tag-dropdown
        border-bottom-left-radius: 0
        border-bottom-right-radius: 0
        border-bottom-color: transparent
        background: var(--background-primary)
        color: var(--text-normal)

      .dropdown-panel
        display: grid
        border-top-left-radius: 0
        border-top-right-radius: 0
        margin-top: -1px

    .dropdown-panel
      position: absolute
      top: calc(100% + 4px)
      left: 0
      background: var(--background-primary)
      border: 1px solid var(--background-modifier-border)
      border-radius: 4px
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1)
      z-index: 1000
      width: 480px
      padding: 8px
      display: none
      grid-template-columns: repeat(3, 1fr)
      gap: 4px
      max-height: 300px
      overflow-y: auto

      .dropdown-option
        padding: 6px 8px
        cursor: pointer
        color: var(--text-muted)
        font-size: 13px
        border-radius: 4px
        display: flex
        align-items: center
        justify-content: space-between
        transition: all 0.2s ease

        &::before
          content: ''
          display: inline-block
          width: 16px
          height: 16px
          margin-right: 6px
          background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>')
          background-repeat: no-repeat
          background-position: center
          opacity: 0.5
          transition: opacity 0.2s ease

        &:hover
          background-color: var(--background-modifier-hover)
          color: var(--text-normal)

          &::before
            opacity: 1

        .tag-count
          background: var(--background-modifier-border)
          color: var(--text-muted)
          padding: 2px 6px
          border-radius: 10px
          font-size: 12px
          min-width: 24px
          text-align: center

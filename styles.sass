// 主容器布局   	
.card-view-container 
  display: flex
  flex-direction: column
  height: 100%
  overflow: hidden


// 工具栏样式   	
.card-view-toolbar
  display: flex
  align-items: center
  justify-content: space-between
  gap: 1rem
  padding: 0.8rem 1rem
  border-bottom: 1px solid var(--background-modifier-border)
  background-color: var(--background-secondary)
  width: 100%
  flex-shrink: 0
  height: auto
  min-height: 48px

  // 工具栏左侧区域   	
  .toolbar-left
    display: flex
    align-items: center
    gap: 8px

    // 新建笔记
    .new-note-button 
      display: flex
      align-items: center
      gap: 0.5rem
      background-color: var(--interactive-accent)
      color: var(--text-on-accent)
      padding: 6px 12px
      border-radius: 4px
      border: none
      cursor: pointer
      font-weight: 500
      transition: all 0.15s ease
      &:hover 
        opacity: 0.9
        transform: translateY(-1px)
      svg 
        width: 16px
        height: 16px

    // 日历按钮	
    .calendar-toggle-button 
      display: flex
      align-items: center
      gap: 6px
      background: transparent
      border: 1px solid var(--background-modifier-border)
      color: var(--text-muted)
      padding: 6px 12px
      cursor: pointer
      border-radius: 4px
      font-size: 14px
      transition: all 0.2s ease
      &.active 
        background-color: var(--interactive-accent)
        color: var(--text-on-accent)
        border-color: var(--interactive-accent)
      &:hover 
        color: var(--text-normal)
        background-color: var(--background-modifier-hover)
        border-color: var(--interactive-accent)
      svg
        width: 16px
        height: 16px


    // 视图切换器样式 	
    .view-switcher
      display: flex
      gap: 0.5rem
      padding: 0
      border-left: 1px solid var(--background-modifier-border)
      margin-left: 1rem
      padding-left: 1rem

      .view-switch-btn 
        background-color: transparent
        color: var(--text-muted)
        border: none
        border-radius: 4px
        padding: 6px
        cursor: pointer
        display: flex
        align-items: center
        justify-content: center
        transition: all 0.2s ease
        &:hover 
          background-color: var(--background-modifier-hover)
          color: var(--text-normal)
        &.active 
          background-color: var(--interactive-accent)
          color: var(--text-on-accent)
        svg 
          width: 18px
          height: 18px

        .view-switch-icon 
            display: flex
            align-items: center
            justify-content: center

        .view-switch-text 
          font-size: 0.9em

    // 搜索容器
    .search-container
      display: flex




// 标签过滤器样式   
.tag-filter 
  display: flex
  gap: 10px
  padding: 16px
  border-bottom: 1px solid var(--background-modifier-border)
  background-color: var(--background-primary)
  flex-wrap: wrap
  justify-content: center
  align-items: center
  &::-webkit-scrollbar 
    height: 4px

  button
    color: var(--text-on-accent)
    border: none
    border-radius: 4px
    padding: 4px 8px
    cursor: pointer
    &.active-tag 
      background-color: var(--text-accent)
      transform: translateY(-1px)
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1)



// 内容区域样式   
.card-view-content 
  height: 100%
  overflow-y: auto
  padding: 1rem
  position: relative
  margin-top: 8px 

  // 调整卡片容器布局   
  .card-container 
    display: grid
    gap: 1rem
    padding: 1rem
    transition: all 0.2s ease
    justify-content: center

    // 卡片布局优化   
    .note-card 
      position: relative
      width: 280px
      height: 200px
      background-color: var(--background-secondary)
      border-radius: 8px
      border: 1px solid var(--background-modifier-border)
      cursor: pointer
      transition: all 0.2s ease
      overflow: hidden
      &:hover 
        transform: translateY(-2px)
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1)
      &.selected 
        border: 2px solid var(--interactive-accent)
        box-shadow: 0 0 8px rgba(var(--interactive-accent-rgb), 0.3)
        transform: translateY(-2px)
        &:hover 
          border: 2px solid var(--interactive-accent)



      // 卡片头部样式   
      .note-card-header
        height: 2.2em
        padding: 0.5rem 1rem
        display: flex
        justify-content: space-between
        align-items: center
        z-index: 3
        transition: opacity 0.2s ease

        .note-date
          font-size: 0.8em
          color: var(--text-muted)

        .note-folder 
          font-size: 0.8em
          color: var(--text-muted)
          cursor: pointer
          padding: 2px 4px
          border-radius: 4px
          transition: all 0.2s ease
          max-width: 150px
          overflow: hidden
          text-overflow: ellipsis
          white-space: nowrap
          &:hover 
            background-color: var(--background-modifier-hover)
            color: var(--text-normal)
            text-decoration: underline
          &:active 
            transform: translateY(1px)

        // 打开按钮样式修改   
        .note-open-button 
          position: absolute
          z-index: 99
          bottom: 0.8rem  // 改为底部定位   
          right: 0.8rem   // 调整右边距   
          width: 32px   // 增大按钮尺寸   
          height: 32px  // 增大按钮尺寸   
          display: flex
          align-items: center
          justify-content: center
          background-color: var(--background-secondary)
          border: 1px solid var(--background-modifier-border)
          border-radius: 6px
          cursor: pointer
          transition: all 0.2s ease
          &:hover 
            color: var(--text-on-accent)
            transform: translateY(-2px)
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1)
            svg 
              color: var(--interactive-accent)
              transform: scale(1.1) 
          svg
            opacity: 1
            width: 20px   // 增大图标尺寸   
            height: 20px  // 增大图标尺寸   
            transition: all 0.2s ease


      // 卡片内容容器   
      .note-card-content 
        position: relative
        border-top: 1px solid var(--background-modifier-border)
        height: calc(100% - 2rem)
        display: flex
        flex-direction: column
        gap: 0.5rem
        &:hover 
          padding: 0

        // 标题  
        .note-title 
          padding: 0.5em 1em 0.5em 1em
          font-size: 1.4em
          font-weight: bold
          color: var(--text-normal)

        // 笔记内容样式   
        .note-content
          padding: 0 1rem
          background-color: var(--background-secondary)
          overflow-y: auto
          z-index: 1
          opacity: 0.4
          transition: all 0.2s ease
          &:hover
            opacity: 1

          img 
            max-width: 100%
            height: auto

          h1
            color: #ff0
            font-size: 12px !important
            line-height: 1.5
            margin: 0.5em 0




// 日历容器样式   
.calendar-container 
  width: 280px
  background-color: var(--background-primary)
  border-right: 1px solid var(--background-modifier-border)
  padding: 16px
  z-index: 1000
  box-shadow: 2px 0 4px rgba(0, 0, 0, 0.1)

  // 日历头部样式   
  .calendar-header 
    display: flex
    justify-content: space-between
    align-items: center
    margin-bottom: 16px
    padding: 8px 0

    // 导航按钮样式   
    .calendar-nav-btn 
      background: transparent
      border: 1px solid var(--background-modifier-border)
      border-radius: 4px
      padding: 4px 8px
      color: var(--text-muted)
      cursor: pointer
      transition: all 0.2s ease
      &:hover 
        background-color: var(--background-modifier-hover)
        color: var(--text-normal)
        border-color: var(--interactive-accent)


    .calendar-title 
      font-size: 1.1em
      font-weight: bold
      color: var(--text-normal)

  // 日历网格样式   
  .calendar-weekdays 
    display: grid
    grid-template-columns: repeat(7, 1fr)
    gap: 4px
    margin-bottom: 8px
    padding: 8px 0
    border-bottom: 1px solid var(--background-modifier-border)

    .weekday 
      text-align: center
      font-size: 0.9em
      color: var(--text-muted)
      font-weight: 500

  .calendar-grid 
    display: grid
    grid-template-columns: repeat(7, 1fr)
    gap: 4px

    .calendar-day 
      position: relative
      aspect-ratio: 1
      display: flex
      align-items: center
      justify-content: center
      border-radius: 4px
      cursor: pointer
      background-color: var(--background-secondary)
      font-size: 0.9em
      transition: all 0.2s ease
      &.empty 
        background-color: transparent
        cursor: default
      &.selected 
        background-color: var(--interactive-accent)
        color: var(--text-on-accent)
        transform: translateY(-1px)
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1)
        .note-count 
          background-color: var(--text-on-accent)
          color: var(--interactive-accent)
      &:hover 
        background-color: var(--background-modifier-hover)
        transform: translateY(-1px)

      // 笔记数量样式   
      .note-count 
        position: absolute
        bottom: 2px
        right: 2px
        font-size: 0.7em
        background-color: var(--interactive-accent)
        color: var(--text-on-accent)
        padding: 1px 4px
        border-radius: 8px
        min-width: 16px
        text-align: center



// 文件选择模态框样式   
.folder-list 
  max-height: 300px
  overflow-y: auto
  margin: 1rem 0
  border: 1px solid var(--background-modifier-border)
  border-radius: 4px  

  .folder-item 
    display: flex
    align-items: center
    gap: 0.5rem
    padding: 0.5rem
    cursor: pointer
    transition: all 0.2s ease  
    &:hover 
      background-color: var(--background-modifier-hover)  
    &.selected 
      background-color: var(--interactive-accent)
      color: var(--text-on-accent)  

    .folder-icon 
      display: flex
      align-items: center
      color: var(--text-muted)  

    .folder-name 
      flex: 1 




// 添加预览容器相关样式   
.preview-wrapper 
  position: relative
  right: 0
  top: 0
  height: 100%
  display: flex
  z-index: 100  

  // 预览容器   
  .preview-container 
    width: 300px
    height: 100%
    background-color: var(--background-primary)
    border-left: 1px solid var(--background-modifier-border)
    padding: 1rem
    overflow-y: auto
    transition: width 0.2s ease
    resize: horizontal  // 添加水平调整大小功能   
    max-width: 800px
    &.collapsed 
      width: 0
      padding: 0
      border-left: none  

  .preview-controls 
    position: absolute
    left: -24px
    top: 50%
    transform: translateY(-50%) 

    .preview-toggle 
      background: var(--background-secondary)
      border: 1px solid var(--background-modifier-border)
      border-radius: 4px
      padding: 4px
      cursor: pointer
      transition: all 0.2s ease
      &:hover 
        background: var(--background-modifier-hover)  





// 主布局容器样式   
.main-layout 
  display: flex
  width: 100%
  height: 100%
  position: relative 


// 内容区域样式   
.content-section 
  flex: 1
  min-width: 0
  padding: 16px
  transition: margin-left 0.2s ease

// 当显示日历时的布局调整   
.main-layout.with-calendar .calendar-container 
  display: block


// 日历显示时调整内容区域的边距   
.main-layout.with-calendar .content-section 
  margin-left: 0




// 时间轴视图
.timeline-container 
  padding: 2rem 2rem 2rem 180px  // 增加左侧padding   
  position: relative  
  &::before 
    content: ''
    position: absolute
    left: 160px  // 调整时间轴位置   
    top: 0
    bottom: 0
    width: 2px
    background-color: var(--background-modifier-border)  

  .timeline-date-group 
    position: relative
    margin-bottom: 2rem

    .timeline-date-node 
      display: flex
      position: absolute
      left: -147px
      width: 140px
      text-align: right
      display: flex
      align-items: center
      justify-content: flex-end
      gap: 1rem
      flex-direction: row-reverse  
      .timeline-node-circle 
        width: 12px
        height: 12px
        border: 2px solid var(--interactive-accent)
        border-radius: 50%
        background-color: var(--background-primary)
        margin-right: -6px  // 调整圆点位置   

      .timeline-date-label 
        font-weight: bold
        color: var(--text-muted)  
    
    .timeline-notes-list 
      margin-left: 160px
      margin-top: 2rem

      .timeline-note-item 
        position: relative
        margin-bottom: 1rem
        cursor: pointer
        display: flex
        align-items: center 

      .timeline-note-marker 
        position: absolute
        left: -40px
        width: 10px
        height: 2px
        background-color: var(--background-modifier-border)  

      .timeline-note-content 
        background-color: var(--background-secondary)
        border-radius: 4px
        padding: 0.5rem 1rem
        flex: 1
        transition: all 0.2s ease  

      &:hover .timeline-note-content 
        transform: translateX(4px)
        background-color: var(--background-modifier-hover)  





// 元素-卡片标签
.note-tag 
  color: var(--text-muted)
  border: 1px solid var(--background-modifier-border)
  background-color: transparent
  padding: 2px 6px
  border-radius: 4px
  font-size: 0.8em 
	


// 元素-标签按钮
.tag-btn 
  background-color: transparent  // 默认透明背景   
  color: var(--text-muted)
  border: 1px solid var(--background-modifier-border)  // 添加边框   
  border-radius: 4px
  padding: 2px 8px
  font-size: 0.85em
  cursor: pointer
  transition: all 0.2s ease
  height: 24px
  line-height: 20px
  display: inline-flex
  align-items: center  
  &:hover 
    background-color: var(--background-modifier-hover)
    color: var(--text-normal)  
  &.active 
    background-color: var(--interactive-accent)
    color: var(--text-on-accent)
    border-color: var(--interactive-accent)  


/* 隐藏卡片内容中的标题 */
.note-content 
  h1:first-child,
  h2:first-child,
  h3:first-child,
  h4:first-child,
  h5:first-child,
  h6:first-child 
    display: none

/* 统一卡片内所有文本样式 */
.note-content
  h1
    color:#f00


/* 统一卡片内所有文本样式 */
.note-content
  p, li, blockquote, h1, h2, h3, h4, h5, h6
    font-size: 12px !important
    line-height: 1.5
    margin: 0.5em 0


/* 预览栏内保留标题 */
.preview-container
  h1, h2, h3, h4, h5, h6
    margin: 1em 0 0.5em
    line-height: 1.3


